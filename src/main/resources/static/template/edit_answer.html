<div ng-init="load()">
	Survey: {{ survey.surveyName }}
	<br/>
	Survey by: {{ survey.userDTO.username }}
	<br/><br/>
	<label for="question_select">Select a question</label>
	<br/>
	<select ng-model="question_select" id="question_select" name="question_select" ng-disabled="!questions"
			ng-change="selectQuestion(question_select)">
		<option ng-repeat="question in questions" value="{{ $index }}">{{ question.id }}</option>
	</select>
	<br/>
	<div ng-hide="!question_select">
		<p>{{ questions[question_select].text }}</p>
		<div ng-hide="questions[question_select].questionType != 'SINGLECLOSED'">
			<label ng-repeat="answer in questions[question_select].closeEndedAnswerDTOSet">
				<input type="radio" ng-model="model.closeended_answer" name="closeended_answer"
					   ng-value="answer.id"/> {{ answer.text }}
				<br/>
			</label>
		</div>
		<div ng-hide="questions[question_select].questionType != 'MULTIPLECLOSED'">
			<div ng-repeat="answer in questions[question_select].closeEndedAnswerDTOSet">
				<input type="checkbox" name="answer" id="{{answer.id}}" ng-model="options[$index]" ng-value="answer.id">
				<label for="{{answer.id}}">{{answer.text}}</label>
			</div>
		</div>
		<div ng-hide="questions[question_select].questionType != 'OPEN'">
			<label for="openended_answer">Answer:</label>
			<br/>
			<input type="text" ng-model="openended_answer" name="openended_answer" id="openended_answer"
				   ng-value="currentAnswer.answerText">
		</div>
		<br/>
		<button ng-click="submit(question_select)">Submit</button>
		<button ng-click="delete(question_select)">Delete</button>
	</div>
</div>
